apply plugin: 'java'
apply plugin: 'org.springframework.boot'
apply plugin: 'propdeps'
apply plugin: 'propdeps-maven'
apply plugin: 'propdeps-eclipse'
apply plugin: 'propdeps-idea'
apply plugin: 'application'

run.workingDir = new File("./dist")
mainClassName = "org.l2junity.gameserver.GameServer"

applicationDefaultJvmArgs = [
		"-server",
		"-Xms2G",
		"-Xmx8G"
]

defaultTasks 'assemble'
distTar.enabled = false
bootRepackage.enabled = false

sourceSets {
	scripts {
		java {
			srcDir('dist/game/data/scripts')
		}
	}
}

dependencies {
	provided('org.projectlombok:lombok:+')
	compile project(':l2junity-commons')
	compile project(':l2junity-geodriver')
	compile project(':l2junity-network')
	compile project(':l2junity-mmocore')
	
	compile(group: 'com.sun.mail', name: 'javax.mail', version: '1.5.6')
	compile(group: 'it.sauronsoftware.cron4j', name: 'cron4j', version: '2.2.5')
	compile(group: 'net.objecthunter', name: 'exp4j', version: '0.4.8')

	runtime(group: 'org.eclipse.jdt.core.compiler', name: 'ecj', version: '4.4.2')
}

configurations {
    compile.exclude group:'ch.qos.logback'
}

distZip {
	from('dist') {
		into(baseName + '/bin/')
	}
}